<div class="center-content-container yekan-font">
    <div class="header content-header-yellow">
        <div class="row">
            <div class="col-md-12 text-right content-header-mid">
                <span>دسته بندی موضوعات سایت</span>
                <i class="fa fa-flag"></i>
            </div>
        </div>
    </div>
    <div class="white-panel">
        <div class="row">
            <div class="col-sm-12">

                <table dir="rtl" class="table table-striped">
                    <thead>
                    <tr>
                        <th class="text-right">موضوع شاخه</th>
                        <th class="text-right">تعداد زیر شاخه</th>
                        <th class="text-right" style="width: 58px"></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="s in subjects">
                        <td class="my-link" ng-click="showSubject(s)">{{s.Title}}</td>
                        <td class="my-link" ng-click="showSubject(s)">{{s.childs.length}}</td>
                        <td>
                            <div>
                                <a class="fa fa-plus fa-group-mid my-green-sea my-link" ng-click="showAddChildPanel(s)"></a>
                                <span class="fa fa-trash-o fa-group-mid my-red" ng-click="deleteSubject(s.ID)" confirm="آیا مطمئن هستید که می خواهید پست {{p.ID}} را حذف کنید؟"></span>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-xs-12">
                <button class="btn btn-success" ng-click="showPanel(false,false,true)">افزودن موضوع جدید</button>
            </div>
        </div>
    </div>
    <div class="white-panel" ng-show="p3" >
        <div class="white-panel-header">افزودن شاخه جدید </div>
        <div class="row">
            <div class="col-xs-12">
                <div class="col-xs-12 form-group">
                    <div class="col-xs-9 no-padding">
                        <input class="text-right pull-right " ng-model="newSubjectTitle"></input>
                    </div>
                    <span class="col-xs-3 text-right">نوشته شاخه</span>
                </div>
            </div>
            <div class="col-xs-12 form-group">
                <div class="col-xs-9">
                    <button class="pull-left btn btn-primary" ng-click="saveSubject()">افزودن</button>
                </div>
            </div>
        </div>
    </div>
    <div class="white-panel" ng-show="p2">
        <div class="white-panel-header">افزودن زیر شاخه جدید به '{{selectedSubject.Title}}'</div>
        <div class="row">
            <div class="col-xs-12">
                <div class="col-xs-12 form-group">
                    <div class="col-xs-9 no-padding">
                        <input class="text-right pull-right " ng-model="newChildSubjectTitle"></input>
                    </div>
                    <span class="col-xs-3 text-right">نوشته زیر شاخه</span>
                </div>
            </div>
            <div class="col-xs-12 form-group">
                <div class="col-xs-9">
                    <button class="pull-left btn btn-primary" ng-click="saveSubjectChild()">افزودن</button>
                </div>
            </div>
        </div>
    </div>
    <div class="white-panel" ng-show="p1">
        <div class="white-panel-header">ویرایش شاخه</div>
        <div class="row">
            <div class="col-xs-12">
                <div class="col-xs-12 form-group">
                    <div class="col-xs-9 no-padding">
                        <input class="pull-right text-right" ng-model="selectedSubjectTitle"></input>
                    </div>
                    <span class="col-xs-3 text-right">نوشته</span>
                </div>
            </div>
            <div class="col-xs-12 form-group">
                <div class="col-xs-9">
                    <button class="pull-left btn btn-primary" ng-click="updateSubject(selectedSubject.ID,selectedSubjectTitle)">ویرایش</button>
                </div>
            </div>
            <div class="col-sm-12">
                <table dir="rtl" class="table table-striped">
                    <thead>
                        <tr>
                            <th class="text-right">زیر شاخه</th>
                            <th class="text-right" style="width: 58px"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="sc in selectedSubject.childs">
                            <td>{{sc.Title}}</td>
                            <td>
                                <div>
                                    <span class="fa fa-trash-o fa-group-mid my-red" ng-click="deleteSubject(sc.ID)" confirm="آیا مطمئن هستید که می خواهید زیر شاخه {{p.ID}} را حذف کنید؟"></span>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
