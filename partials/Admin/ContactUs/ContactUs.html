
<script type="text/ng-template" id="myModalContent.html">
    <div class="modal-header">
        <h3 class="modal-title yekan-font text-right">پیام</h3>
    </div>
    <div class="modal-body yekan-font">
        <div class="row">
            <div class="col-xs-12 form-group">
                <div class="col-sm-3 col-xs-12 pull-right persian-rtl">
                    نام شخص :
                </div>
                <div class="col-sm-9 col-xs-12 persian-rtl text-right my-green-sea">
                    {{(contact.UserID)? contact.FullName : contact.Name}}
                </div>
            </div>
            <div class="col-xs-12 form-group">
                <div class="col-sm-3 col-xs-12 pull-right persian-rtl">
                    آی پی :
                </div>
                <div class="col-sm-9 col-xs-12 english-text text-right my-green-sea">
                    {{contact.Identity}}
                </div>
            </div>
            <div class="col-xs-12 form-group">
                <div class="col-sm-3 col-xs-12 pull-right persian-rtl">
                    پیام دهنده :
                </div>
                <div class="col-sm-9 col-xs-12 persian-rtl text-right my-darkgray">
                    {{(contact.UserID)? 'کاربر' : 'مهمان'}}
                </div>
            </div>
            <div class="col-xs-12 form-group">
                <div class="col-sm-3 col-xs-12 pull-right persian-rtl">
                    ایمیل :
                </div>
                <div class="col-sm-9 col-xs-12 english-text text-right my-darkgray">
                    {{contact.Email}}
                </div>
            </div>
            <div class="col-xs-12 form-group">
                <div class="col-sm-3 col-xs-12 pull-right persian-rtl">
                    شماره تماس :
                </div>
                <div class="col-sm-9 col-xs-12 english-text persian-rtl text-right my-darkgray">
                    {{contact.PhoneNumber}}
                </div>
            </div>
            <div class="col-xs-12 form-group">
                <div class="col-sm-3 col-xs-12 pull-right persian-rtl">
                    تاریخ :
                </div>
                <div class="col-sm-9 col-xs-12 persian-rtl text-right my-darkgray">
                    {{contact.Date | jalaliDate:'jYYYY/jMM/jDD hh:mm' }}
                </div>
            </div>
            <div class="col-xs-12 form-group">
                <div class="col-sm-3 col-xs-12 pull-right persian-rtl">
                    پیام :
                </div>
                <div class="col-sm-9 col-xs-12 persian-rtl text-right my-darkgray">
                    <div class="form-control" style="height: auto;">{{contact.Message}}</div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary pull-left yekan-font" type="button" ng-click="close()" style="margin-left: 5px">بازگشت</button>
    </div>
</script>

<div class="center-content-container yekan-font">
    <div class="header content-header-yellow">
        <div class="row">
            <div class="col-md-12 text-right content-header-mid">
                <span>مدیریت پیام ها</span>
                <i class="fa fa-flag"></i>
            </div>
        </div>
    </div>
    <div class="white-panel">
        <div class="row">
            <div class="col-xs-12 table-responsive persian-rtl">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th class="text-right">نام</th>
                            <th class="text-right">نوع پیام دهنده</th>
                            <th class="text-right">پیام</th>
                            <th class="text-right">تاریخ</th>
                            <th class="text-right" style="width: 70px"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="c in contacts">
                            <td class="my-link" ng-click="showContact(c)">{{(c.UserID)? c.FullName : c.Name}}</td>
                            <td class="my-link" ng-click="showContact(c)" ng-class="(c.UserID)?'my-peter':''">{{(c.UserID)? 'کاربر' : 'مهمان'}}</td>
                            <td class="my-link" ng-click="showContact(c)">
                                <div style="max-width: 250px; line-break: normal; word-wrap: break-word; color: #555">
                                     {{c.Message | subString : 90}}
                                </div>
                            </td>
                            <td class="my-link" ng-click="showContact(c)" style="min-width: 225px;">{{c.Date | jalaliDate:'jYYYY/jMM/jDD hh:mm' }}</td>
                            <td>
                                <div>

                                    <span class="fa fa-trash-o fa-group-mid my-red pull-left hvr-grow" ng-click="deleteContact(c)" confirm="آیا مطمئن هستید که می خواهید کامنت {{c.ID}} را حذف کنید؟"></span>

                                    <span class="fa fa-search fa-group-mid my-peter pull-left hvr-grow" ng-click="showContact(c)"></span>

                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="row"> <!--ng-if="posts.length > 0"--> 
                <div class="span8 text-center">

                    <auto-paging page="1"
                                 page-size="30"
                                 action-name="getAllContactsUs"
                                 data-params="pagingParams"
                                 ng-control="pagingController"
                                 items="contacts">
                    </auto-paging>
                </div>
            </div>
        </div>
    </div>
</div>
